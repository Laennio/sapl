{% extends "crud/detail.html" %}
{% load i18n %}
{% load common_tags %}

{% block sections_nav %}{% endblock sections_nav %}

{% block title %}<h1 class="page-header">Membro {{ object.parlamentar }}</h1>{% endblock title %}

{% block extra_actions %}
    <div class="actions btn-group btn-group-sm" role="group">
        <a href="{% url 'sapl.parlamentares:bancada_detail' object.bancada.pk %}"
           class="btn btn-outline-primary">Voltar</a>
        <a href="{% url 'sapl.parlamentares:cargomembrobancada_create' object.bancada.pk object.pk %}"
           class="btn btn-outline-primary">Adicionar Cargo</a>
    </div>
{% endblock extra_actions %}
{% block editions %}
    <div class="actions btn-group" role="group">
        <a href="{% url 'sapl.parlamentares:membrobancada_update' object.bancada.pk object.pk %}"
           class="btn btn-outline-primary">Editar</a>
        <a href="{% url 'sapl.parlamentares:membrobancada_delete' object.bancada.pk object.pk %}"
           class="btn btn-outline-primary btn-outline-danger">Excluir</a>
    </div>
{% endblock editions %}

{% block detail_content %}
    <h2 class="legend">Membro</h2>
    <div class="row">
        <div class="col-8">
            <p class="control-label">Nome do Membro da Bancada Parlamentar</p>
        </div>
        <div class="col-4">
            <p class="control-label">Bancada Parlamentar</p>
        </div>
    </div>
    <div class="row">
        <div class="col-8">
            <div class="form-control-static">
                <a href="{% url 'sapl.parlamentares:parlamentar_detail' object.parlamentar.pk %}">{{ object.parlamentar }}</a>
            </div>
        </div>
        <div class="col-4">
            <div class="form-control-static">
                <a href="{% url 'sapl.parlamentares:bancada_detail' object.bancada.pk %}">{{ object.bancada }}</a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <p class="control-label">Legislatura</p>
        </div>
        <div class="col">
            <p class="control-label">Data Início de Membro</p>
        </div>
        <div class="col">
            <p class="control-label">Data Fim de Membro</p>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-control-static">
                <a href="{% url 'sapl.parlamentares:legislatura_detail' object.legislatura.pk %}">{{ object.legislatura }}</a>
            </div>
        </div>
        <div class="col">
            <div class="form-control-static">
                {{ object.data_inicio }}
            </div>
        </div>
        <div class="col">
            <div class="form-control-static">
                {% if object.data_fim %}{{ object.data_fim }}{% else %}-{% endif %}
            </div>
        </div>
    </div>
{% endblock detail_content %}

{% block table_content %}
    <br>
    <h2 class="legend">Cargos</h2>
    {% if cargos %}
        <div class="result-count">Total de Cargos: <b>{{ qntd }}</b></div>
        <table class="table table-striped table-hover table-link-ordering">
            <thead>
                <tr>
                    <th style="text-align:center;">Cargo</th>
                    <th style="text-align:center;">Data Início no Cargo</th>
                    <th style="text-align:center;">Data Fim no Cargo</th>
                </tr>
            </thead>
            </tbodybody>
                {% for cargo in cargos %}
                    <tr>
                        <td style="text-align:center;"><a href="{% url 'sapl.parlamentares:cargomembrobancada_detail' object.bancada.pk cargo.membro.pk cargo.cargo.pk %}">{{ cargo.cargo }}</a></td>
                        <td style="text-align:center;">{{ cargo.data_inicio }}</td>
                        <td style="text-align:center;">{% if cargo.data_fim %}{{ cargo.data_fim }}{% else %}-{% endif %}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Nenhum cargo encontrado.</p>
    {% endif %}
    <br>
{% endblock table_content %}
